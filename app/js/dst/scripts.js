!function(){"use strict";function e(e,t,n){console.trace();var o=e.firstChild||document.createElement("p");o.textContent=t,e.appendChild(o),n&&(o.className=n)}function t(e){e.style.display="none"}function n(e){e.style.display="block"}function o(e,t,n){void 0===t&&(t=e,e=1);var o=Math.floor((t-e+1)*Math.random())+e;return"function"==typeof n&&(o=n(o)),o}function i(o){this.questions=o.questions,this.phrase=o.question,this.score=0,e(r,this.score),this.time=20,e(h,this.time),this.interval=window.setInterval(this.countDown.bind(this),1e3),t(c),n(u),n(h),a.innerHTML="",n(a),u.addEventListener("click",this.onClickFireCheck.bind(this),!1),this.chooseQuestion()}var s=document.getElementById("question"),r=document.getElementById("score"),a=document.getElementById("feedback"),c=document.getElementById("start"),u=document.getElementById("answer"),h=document.getElementById("timer"),d={name:"Super Hero Name Quiz",description:"How many super heroes can you name?",question:"What is the real name of ",questions:[{question:"Superman",answer:"Clarke Kent",asked:!1},{question:"Batman",answer:"Bruce Wayne",asked:!1},{question:"Wonder Woman",answer:"Dianna Prince",asked:!1},{question:"Spider Man",answer:"Peter Parker",asked:!1},{question:"Iron Man",answer:"Tony Stark",asked:!1}]},l=0;t(u),t(h),i.prototype.chooseQuestion=function(){console.log("chooseQuestion() invoked");var e=this.questions.filter(function(e){return!1===e.asked});this.question=e[o(e.length)-1],this.ask(this.question)},i.prototype.ask=function(t){function n(){var e=i.questions[o(i.questions.length)-1];return e===t||-1!==a.indexOf(e.answer)?n():e}console.log("ask() invoked");var i=this;t.asked=!0,e(s,this.phrase+t.question+"?"),u.innerHTML="";var r,a=[],c=n();a.push(c.answer);var h=n();a.push(h.answer),a.splice(o(0,2),0,t.answer),a.forEach(function(e){(r=document.createElement("button")).value=e,r.textContent=e,u.appendChild(r)})},i.prototype.check=function(t){console.log("check() invoked"),t===this.question.answer?(e(a,"Correct!","right"),this.score++,e(r,this.score)):e(a,"Wrong!","wrong"),++l===d.questions.length?this.gameOver():this.chooseQuestion()},i.prototype.countDown=function(){this.time--,e(h,this.time),this.time<=0&&this.gameOver()},i.prototype.onClickFireCheck=function(e){this.check(e.target.value)},i.prototype.gameOver=function(){console.log("gameOver() invoked"),e(s,"Game Over, you scored "+this.score+" points"),t(u),t(h),n(c),window.clearInterval(this.interval),l=0,this.questions.forEach(function(e){e.asked=!1}),u.removeEventListener("click",this.onClickFireCheck.bind(this),!1)},c.addEventListener("click",function(){new i(d)},!1),e(r,0),u.addEventListener("submit",function(e){e.preventDefault()},!1)}();